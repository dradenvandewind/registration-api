\chapter{Building a user registration API}
\label{md_Spec_2user__registration__api}\index{Building a user registration API@{Building a user registration API}}
\label{md_Spec_2user__registration__api_autotoc_md5}%
 \doxysection{Context}\label{md_Spec_2user__registration__api_autotoc_md6}
xxxxx handles user registrations. To do so, user creates an account and we send a code by email to verify the account.

As a core API developer, you are responsible for building this feature and expose it through API.\doxysection{Specifications}\label{md_Spec_2user__registration__api_autotoc_md7}
You have to manage a user registration and his activation.

The API must support the following use cases\+:
\begin{DoxyItemize}
\item Create a user with an email and a password.
\item Send an email to the user with a 4 digits code.
\item Activate this account with the 4 digits code received. For this step, we consider a {\ttfamily BASIC AUTH} is enough to check if he is the right user.
\item The user has only one minute to use this code. After that, an error should be raised.
\end{DoxyItemize}

Design and build this API. You are completely free to propose the architecture you want.\doxysection{What do we expect?}\label{md_Spec_2user__registration__api_autotoc_md8}

\begin{DoxyItemize}
\item Python language is required.
\item We expect to have a level of code quality which could go to production.
\end{DoxyItemize}\doxysubsection{Framework \& Architecture}\label{md_Spec_2user__registration__api_autotoc_md9}

\begin{DoxyItemize}
\item {\bfseries{Fast\+API framework is mandatory}}. This is our production stack and we need to evaluate your mastery of\+:
\begin{DoxyItemize}
\item Async/await patterns
\item Dependency Injection (Fast\+API Depends)
\item Pydantic validation (request/response models)
\item Exception handlers
\item Lifespan events (startup/shutdown)
\end{DoxyItemize}
\end{DoxyItemize}\doxysubsection{Libraries constraints}\label{md_Spec_2user__registration__api_autotoc_md10}

\begin{DoxyItemize}
\item You can use libraries for specific utilities\+: db connection pooling (asyncpg, psycopg), testing (pytest), validation (pydantic), etc.
\item {\bfseries{No ORMs allowed}} (including SQLAlchemy, Tortoise ORM, etc.). We want to see {\bfseries{your}} implementation of business logic and data access layers.
\end{DoxyItemize}\doxysubsection{Other requirements}\label{md_Spec_2user__registration__api_autotoc_md11}

\begin{DoxyItemize}
\item Use the DBMS you want (except SQLite).
\item Consider the SMTP server as a third party service offering an HTTP API. You can mock the call, use a local SMTP server running in a container, or simply print the 4 digits in console. But do not forget in your implementation that {\bfseries{it is a third party service}}.
\item Your code should be tested.
\item Your application has to run within docker containers.
\item You can use AI to help you, but in a smart way. However, please make iterative commits as we analyze them to understand your development reasoning (not all the code in 1 or 2 commits).
\item You should provide us the link to Git\+Hub.
\item You should provide us the instructions to run your code and your tests. We should not install anything except docker/docker-\/compose to run your project.
\item You should provide us an architecture schema. 
\end{DoxyItemize}